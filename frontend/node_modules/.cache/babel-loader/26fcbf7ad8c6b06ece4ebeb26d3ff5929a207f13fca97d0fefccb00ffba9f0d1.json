{"ast":null,"code":"import{useState,useEffect}from\"react\";import{useSelector,useDispatch}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{toast}from\"react-toastify\";import{createTicket,ticketActions}from\"../redux/ticket/ticketSlice\";import Spinner from\"../components/Spinner\";import BackButton from\"../components/BackButton\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const{reset}=ticketActions;function NewTicket(){const{user}=useSelector(state=>state.auth);const{isLoading,isError,isSuccess,message,ticket}=useSelector(state=>state.tickets);const[name]=useState(user.name);const[email]=useState(user.email);const[product,setProduct]=useState(\"iPhone\");const[description,setDescription]=useState(\"\");const dispatch=useDispatch();const navigate=useNavigate();useEffect(()=>{if(isError){toast.error(message);dispatch(reset());}else if(isSuccess){dispatch(reset());navigate(\"/tickets\");}},[ticket]);const onSubmit=e=>{e.preventDefault();dispatch(createTicket({product,description}));};if(isLoading){return/*#__PURE__*/_jsx(Spinner,{});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(BackButton,{url:\"/\"}),/*#__PURE__*/_jsxs(\"section\",{className:\"heading\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Create New Ticket\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Please fill out the form below\"})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Customer Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:name,disabled:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Customer Email\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"form-control\",value:email,disabled:true})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"product\",children:\"Product\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"product\",id:\"product\",value:product,onChange:e=>setProduct(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"iPhone\",children:\"iPhone\"}),/*#__PURE__*/_jsx(\"option\",{value:\"Macbook Pro\",children:\"Macbook Pro\"}),/*#__PURE__*/_jsx(\"option\",{value:\"iMac\",children:\"iMac\"}),/*#__PURE__*/_jsx(\"option\",{value:\"iPad\",children:\"iPad\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description of the issue\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",id:\"description\",className:\"form-control\",placeholder:\"Description\",value:description,onChange:e=>setDescription(e.target.value)})]}),/*#__PURE__*/_jsx(\"div\",{className:\"form-group\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-block\",children:\"Submit\"})})]})]})]});}export default NewTicket;","map":{"version":3,"names":["useState","useEffect","useSelector","useDispatch","useNavigate","toast","createTicket","ticketActions","Spinner","BackButton","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","reset","NewTicket","user","state","auth","isLoading","isError","isSuccess","message","ticket","tickets","name","email","product","setProduct","description","setDescription","dispatch","navigate","error","onSubmit","e","preventDefault","children","url","className","htmlFor","type","value","disabled","id","onChange","target","placeholder"],"sources":["C:/Users/jsasi/Desktop/Mern/supportdesk/frontend/src/routes/CreateTicket.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { createTicket, ticketActions } from \"../redux/ticket/ticketSlice\";\r\nimport Spinner from \"../components/Spinner\";\r\nimport BackButton from \"../components/BackButton\";\r\n\r\nconst { reset } = ticketActions;\r\nfunction NewTicket() {\r\n  const { user } = useSelector((state) => state.auth);\r\n  const { isLoading, isError, isSuccess, message, ticket } = useSelector(\r\n    (state) => state.tickets\r\n  );\r\n\r\n  const [name] = useState(user.name);\r\n  const [email] = useState(user.email);\r\n  const [product, setProduct] = useState(\"iPhone\");\r\n  const [description, setDescription] = useState(\"\");\r\n\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    if (isError) {\r\n      toast.error(message);\r\n      dispatch(reset());\r\n    } else if (isSuccess) {\r\n      dispatch(reset());\r\n      navigate(\"/tickets\");\r\n    }\r\n  }, [ticket]);\r\n\r\n  const onSubmit = (e) => {\r\n    e.preventDefault();\r\n    dispatch(createTicket({ product, description }));\r\n  };\r\n\r\n  if (isLoading) {\r\n    return <Spinner />;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <BackButton url=\"/\" />\r\n      <section className=\"heading\">\r\n        <h1>Create New Ticket</h1>\r\n        <p>Please fill out the form below</p>\r\n      </section>\r\n\r\n      <section className=\"form\">\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"name\">Customer Name</label>\r\n          <input type=\"text\" className=\"form-control\" value={name} disabled />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label htmlFor=\"email\">Customer Email</label>\r\n          <input type=\"text\" className=\"form-control\" value={email} disabled />\r\n        </div>\r\n        <form onSubmit={onSubmit}>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"product\">Product</label>\r\n            <select\r\n              name=\"product\"\r\n              id=\"product\"\r\n              value={product}\r\n              onChange={(e) => setProduct(e.target.value)}\r\n            >\r\n              <option value=\"iPhone\">iPhone</option>\r\n              <option value=\"Macbook Pro\">Macbook Pro</option>\r\n              <option value=\"iMac\">iMac</option>\r\n              <option value=\"iPad\">iPad</option>\r\n            </select>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <label htmlFor=\"description\">Description of the issue</label>\r\n            <textarea\r\n              name=\"description\"\r\n              id=\"description\"\r\n              className=\"form-control\"\r\n              placeholder=\"Description\"\r\n              value={description}\r\n              onChange={(e) => setDescription(e.target.value)}\r\n            ></textarea>\r\n          </div>\r\n          <div className=\"form-group\">\r\n            <button className=\"btn btn-block\">Submit</button>\r\n          </div>\r\n        </form>\r\n      </section>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default NewTicket;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}