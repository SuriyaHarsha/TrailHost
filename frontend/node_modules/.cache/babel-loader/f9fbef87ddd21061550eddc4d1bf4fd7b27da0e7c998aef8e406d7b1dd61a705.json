{"ast":null,"code":"import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";import{authService}from\"./authService\";//get user data from local storage\nconst user=JSON.parse(localStorage.getItem(\"user\"));export const userRegThunk=createAsyncThunk(\"auth/register\",async(user,thunkAPI)=>{try{return await authService.register(user);}catch(error){return thunkAPI.rejectWithValue(error.message);}});export const userLoginThunk=createAsyncThunk(\"auth/login\",async(user,thunkAPI)=>{try{return await authService.login(user);}catch(error){return thunkAPI.rejectWithValue(error.message);}});const authSlice=createSlice({name:\"authSlice\",initialState:{user:user,isError:false,isSuccess:false,isLoading:false,message:\"\"},reducers:{reset(state){state.isError=false;state.isSuccess=false;state.isLoading=false;state.message=\"\";},logout(state){state.user=null;state.isError=false;state.isSuccess=false;state.isLoading=false;state.message=\"\";}},extraReducers:builder=>{builder.addCase(userRegThunk.pending,state=>{state.isLoading=true;}).addCase(userRegThunk.fulfilled,(state,action)=>{state.isLoading=false;state.isSuccess=true;state.user=action.payload;}).addCase(userRegThunk.rejected,(state,action)=>{state.isLoading=false;state.isError=true;state.message=action.payload;}).addCase(userLoginThunk.pending,state=>{state.isLoading=true;}).addCase(userLoginThunk.fulfilled,(state,action)=>{state.isLoading=false;state.isSuccess=true;state.user=action.payload;}).addCase(userLoginThunk.rejected,(state,action)=>{state.isLoading=false;state.isError=true;state.message=action.payload;});}});export const authActions=authSlice.actions;export const authReducer=authSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","authService","user","JSON","parse","localStorage","getItem","userRegThunk","thunkAPI","register","error","rejectWithValue","message","userLoginThunk","login","authSlice","name","initialState","isError","isSuccess","isLoading","reducers","reset","state","logout","extraReducers","builder","addCase","pending","fulfilled","action","payload","rejected","authActions","actions","authReducer","reducer"],"sources":["C:/Users/jsasi/Desktop/Mern/supportdesk/frontend/src/redux/auth/authSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\r\nimport { authService } from \"./authService\";\r\n\r\n//get user data from local storage\r\nconst user = JSON.parse(localStorage.getItem(\"user\"));\r\n\r\nexport const userRegThunk = createAsyncThunk(\r\n  \"auth/register\",\r\n  async (user, thunkAPI) => {\r\n    try {\r\n      return await authService.register(user);\r\n    } catch (error) {\r\n      return thunkAPI.rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n\r\nexport const userLoginThunk = createAsyncThunk(\r\n  \"auth/login\",\r\n  async (user, thunkAPI) => {\r\n    try {\r\n      return await authService.login(user);\r\n    } catch (error) {\r\n      return thunkAPI.rejectWithValue(error.message);\r\n    }\r\n  }\r\n);\r\n\r\nconst authSlice = createSlice({\r\n  name: \"authSlice\",\r\n  initialState: {\r\n    user: user,\r\n    isError: false,\r\n    isSuccess: false,\r\n    isLoading: false,\r\n    message: \"\",\r\n  },\r\n  reducers: {\r\n    reset(state) {\r\n      state.isError = false;\r\n      state.isSuccess = false;\r\n      state.isLoading = false;\r\n      state.message = \"\";\r\n    },\r\n    logout(state) {\r\n      state.user = null;\r\n      state.isError = false;\r\n      state.isSuccess = false;\r\n      state.isLoading = false;\r\n      state.message = \"\";\r\n    },\r\n  },\r\n  extraReducers: (builder) => {\r\n    builder\r\n      .addCase(userRegThunk.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(userRegThunk.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        state.isSuccess = true;\r\n        state.user = action.payload;\r\n      })\r\n      .addCase(userRegThunk.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.isError = true;\r\n        state.message = action.payload;\r\n      })\r\n      .addCase(userLoginThunk.pending, (state) => {\r\n        state.isLoading = true;\r\n      })\r\n      .addCase(userLoginThunk.fulfilled, (state, action) => {\r\n        state.isLoading = false;\r\n        state.isSuccess = true;\r\n        state.user = action.payload;\r\n      })\r\n      .addCase(userLoginThunk.rejected, (state, action) => {\r\n        state.isLoading = false;\r\n        state.isError = true;\r\n        state.message = action.payload;\r\n      });\r\n  },\r\n});\r\n\r\nexport const authActions = authSlice.actions;\r\nexport const authReducer = authSlice.reducer;\r\n"],"mappings":"AAAA,OAASA,WAAW,CAAEC,gBAAgB,KAAQ,kBAAkB,CAChE,OAASC,WAAW,KAAQ,eAAe,CAE3C;AACA,KAAM,CAAAC,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC,CAAC,CAErD,MAAO,MAAM,CAAAC,YAAY,CAAGP,gBAAgB,CAC1C,eAAe,CACf,MAAOE,IAAI,CAAEM,QAAQ,GAAK,CACxB,GAAI,CACF,MAAO,MAAM,CAAAP,WAAW,CAACQ,QAAQ,CAACP,IAAI,CAAC,CACzC,CAAE,MAAOQ,KAAK,CAAE,CACd,MAAO,CAAAF,QAAQ,CAACG,eAAe,CAACD,KAAK,CAACE,OAAO,CAAC,CAChD,CACF,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,cAAc,CAAGb,gBAAgB,CAC5C,YAAY,CACZ,MAAOE,IAAI,CAAEM,QAAQ,GAAK,CACxB,GAAI,CACF,MAAO,MAAM,CAAAP,WAAW,CAACa,KAAK,CAACZ,IAAI,CAAC,CACtC,CAAE,MAAOQ,KAAK,CAAE,CACd,MAAO,CAAAF,QAAQ,CAACG,eAAe,CAACD,KAAK,CAACE,OAAO,CAAC,CAChD,CACF,CACF,CAAC,CAED,KAAM,CAAAG,SAAS,CAAGhB,WAAW,CAAC,CAC5BiB,IAAI,CAAE,WAAW,CACjBC,YAAY,CAAE,CACZf,IAAI,CAAEA,IAAI,CACVgB,OAAO,CAAE,KAAK,CACdC,SAAS,CAAE,KAAK,CAChBC,SAAS,CAAE,KAAK,CAChBR,OAAO,CAAE,EACX,CAAC,CACDS,QAAQ,CAAE,CACRC,KAAKA,CAACC,KAAK,CAAE,CACXA,KAAK,CAACL,OAAO,CAAG,KAAK,CACrBK,KAAK,CAACJ,SAAS,CAAG,KAAK,CACvBI,KAAK,CAACH,SAAS,CAAG,KAAK,CACvBG,KAAK,CAACX,OAAO,CAAG,EAAE,CACpB,CAAC,CACDY,MAAMA,CAACD,KAAK,CAAE,CACZA,KAAK,CAACrB,IAAI,CAAG,IAAI,CACjBqB,KAAK,CAACL,OAAO,CAAG,KAAK,CACrBK,KAAK,CAACJ,SAAS,CAAG,KAAK,CACvBI,KAAK,CAACH,SAAS,CAAG,KAAK,CACvBG,KAAK,CAACX,OAAO,CAAG,EAAE,CACpB,CACF,CAAC,CACDa,aAAa,CAAGC,OAAO,EAAK,CAC1BA,OAAO,CACJC,OAAO,CAACpB,YAAY,CAACqB,OAAO,CAAGL,KAAK,EAAK,CACxCA,KAAK,CAACH,SAAS,CAAG,IAAI,CACxB,CAAC,CAAC,CACDO,OAAO,CAACpB,YAAY,CAACsB,SAAS,CAAE,CAACN,KAAK,CAAEO,MAAM,GAAK,CAClDP,KAAK,CAACH,SAAS,CAAG,KAAK,CACvBG,KAAK,CAACJ,SAAS,CAAG,IAAI,CACtBI,KAAK,CAACrB,IAAI,CAAG4B,MAAM,CAACC,OAAO,CAC7B,CAAC,CAAC,CACDJ,OAAO,CAACpB,YAAY,CAACyB,QAAQ,CAAE,CAACT,KAAK,CAAEO,MAAM,GAAK,CACjDP,KAAK,CAACH,SAAS,CAAG,KAAK,CACvBG,KAAK,CAACL,OAAO,CAAG,IAAI,CACpBK,KAAK,CAACX,OAAO,CAAGkB,MAAM,CAACC,OAAO,CAChC,CAAC,CAAC,CACDJ,OAAO,CAACd,cAAc,CAACe,OAAO,CAAGL,KAAK,EAAK,CAC1CA,KAAK,CAACH,SAAS,CAAG,IAAI,CACxB,CAAC,CAAC,CACDO,OAAO,CAACd,cAAc,CAACgB,SAAS,CAAE,CAACN,KAAK,CAAEO,MAAM,GAAK,CACpDP,KAAK,CAACH,SAAS,CAAG,KAAK,CACvBG,KAAK,CAACJ,SAAS,CAAG,IAAI,CACtBI,KAAK,CAACrB,IAAI,CAAG4B,MAAM,CAACC,OAAO,CAC7B,CAAC,CAAC,CACDJ,OAAO,CAACd,cAAc,CAACmB,QAAQ,CAAE,CAACT,KAAK,CAAEO,MAAM,GAAK,CACnDP,KAAK,CAACH,SAAS,CAAG,KAAK,CACvBG,KAAK,CAACL,OAAO,CAAG,IAAI,CACpBK,KAAK,CAACX,OAAO,CAAGkB,MAAM,CAACC,OAAO,CAChC,CAAC,CAAC,CACN,CACF,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAE,WAAW,CAAGlB,SAAS,CAACmB,OAAO,CAC5C,MAAO,MAAM,CAAAC,WAAW,CAAGpB,SAAS,CAACqB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}